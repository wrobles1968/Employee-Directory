{"ast":null,"code":"import _defineProperty from \"/Users/walterrobles/Desktop/Employee-Directory/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/walterrobles/Desktop/Employee-Directory/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/walterrobles/Desktop/Employee-Directory/src/components/DataArea.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport DataTable from \"./DataTable\";\nimport Nav from \"./Nav\";\nimport API from \"../utils/API\";\nimport \"../styles/DataArea.css\";\nimport UserContext from \"../utils/UserContext\";\n\nfunction DataArea() {\n  const _useState = useState({\n    users: [{}],\n    filteredUsers: [{}]\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        users = _useState2[0],\n        setUsers = _useState2[1];\n\n  const _useState3 = useState({\n    order: \"descend\"\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        order = _useState4[0],\n        setOrder = _useState4[1];\n\n  const _useState5 = useState([{\n    name: \"Image\",\n    width: \"10%\"\n  }, {\n    name: \"Name\",\n    width: \"10%\"\n  }, {\n    name: \"Phone\",\n    width: \"20%\"\n  }, {\n    name: \"Email\",\n    width: \"20%\"\n  }, {\n    name: \"DOB\",\n    width: \"10%\"\n  }]),\n        _useState6 = _slicedToArray(_useState5, 1),\n        headings = _useState6[0];\n\n  useEffect(() => {\n    API.getUsers().then(results => {\n      console.log(\"API results\", results.data.results);\n      setUsers({\n        users: results.data.results,\n        filteredUsers: results.data.results\n      });\n    });\n  }, []);\n\n  function handleSort(heading) {\n    if (order === \"descend\") {\n      setOrder({\n        order: \"ascend\"\n      });\n    } else {\n      setOrder({\n        order: \"descend\"\n      });\n    }\n\n    function compareFnc(a, b) {\n      if (order === \"ascend\") {\n        // account for missing values\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        } // numerically\n        else if (heading === \"name\") {\n            return a[heading].first.localeCompare(b[heading].first);\n          } else {\n            return a[heading] - b[heading];\n          }\n      } else {\n        // account for missing values\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        } // numerically\n        else if (heading === \"name\") {\n            return b[heading].first.localeCompare(a[heading].first);\n          } else {\n            return b[heading] - a[heading];\n          }\n      }\n    }\n\n    const sortedUsers = users.filteredUsers.sort(compareFnc);\n    setUsers(_objectSpread({}, users, {\n      filteredUsers: sortedUsers\n    }));\n  }\n\n  function handleSearchChange(event) {\n    console.log(event.target.value);\n    const filter = event.target.value;\n    const filteredList = users.users.filter(item => {\n      // merge data together, then see if user input is anywhere inside\n      let values = Object.values(item).join(\"\").toLowerCase();\n      return values.indexOf(filter.toLowerCase()) !== -1;\n    });\n    setUsers(_objectSpread({}, users, {\n      filteredUsers: filteredList\n    }));\n  }\n\n  function handleDOBSort(event) {\n    event.preventDefault();\n    const fromDate = new Date(document.getElementById(\"from-date\").value);\n    const toDate = new Date(document.getElementById(\"to-date\").value);\n    const filterDOB = users.users.filter(item => {\n      const newDate = new Date(item.dob.date);\n      return newDate > fromDate && newDate < toDate;\n    });\n    setUsers(_objectSpread({}, users, {\n      filteredUsers: filterDOB\n    }));\n  }\n\n  return React.createElement(UserContext.Provider, {\n    value: {\n      headings,\n      users,\n      order,\n      handleSort,\n      handleSearchChange,\n      handleDOBSort\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"data-area\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(DataTable, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })));\n}\n\n;\nexport default DataArea;","map":{"version":3,"sources":["/Users/walterrobles/Desktop/Employee-Directory/src/components/DataArea.js"],"names":["React","useState","useEffect","DataTable","Nav","API","UserContext","DataArea","users","filteredUsers","setUsers","order","setOrder","name","width","headings","getUsers","then","results","console","log","data","handleSort","heading","compareFnc","a","b","undefined","first","localeCompare","sortedUsers","sort","handleSearchChange","event","target","value","filter","filteredList","item","values","Object","join","toLowerCase","indexOf","handleDOBSort","preventDefault","fromDate","Date","document","getElementById","toDate","filterDOB","newDate","dob","date"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport DataTable from \"./DataTable\";\nimport Nav from \"./Nav\";\nimport API from \"../utils/API\";\nimport \"../styles/DataArea.css\";\nimport UserContext from \"../utils/UserContext\";\n\nfunction DataArea() {\n\n  const [users, setUsers] = useState({\n    users: [{}],\n    filteredUsers: [{}]\n  });\n\n  const [order, setOrder] = useState({\n    order: \"descend\"\n  });\n\n  const [headings] = useState([\n    { name: \"Image\", width: \"10%\" },\n    { name: \"Name\", width: \"10%\" },\n    { name: \"Phone\", width: \"20%\" },\n    { name: \"Email\", width: \"20%\" },\n    { name: \"DOB\", width: \"10%\" }\n  ]);\n\n  useEffect(() => {\n    API.getUsers().then(results => {\n      console.log(\"API results\", results.data.results);\n      setUsers({\n        users: results.data.results,\n        filteredUsers: results.data.results\n      });\n    });\n  }, []);\n\n  function handleSort(heading) {\n\n    if (order === \"descend\") {\n      setOrder({\n        order: \"ascend\"\n      })\n    } else {\n      setOrder({\n        order: \"descend\"\n      })\n    }\n\n    function compareFnc(a, b) {\n      if (order === \"ascend\") {\n        // account for missing values\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        }\n        // numerically\n        else if (heading === \"name\") {\n          return a[heading].first.localeCompare(b[heading].first);\n        } else {\n          return a[heading] - b[heading];\n        }\n      } else {\n        // account for missing values\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        }\n        // numerically\n        else if (heading === \"name\") {\n          return b[heading].first.localeCompare(a[heading].first);\n        } else {\n          return b[heading] - a[heading];\n        }\n      }\n    }\n    const sortedUsers = users.filteredUsers.sort(compareFnc);\n    setUsers({ ...users, filteredUsers: sortedUsers });\n  }\n\n  function handleSearchChange(event) {\n    console.log(event.target.value);\n    const filter = event.target.value;\n    const filteredList = users.users.filter(item => {\n      // merge data together, then see if user input is anywhere inside\n      let values = Object.values(item)\n        .join(\"\")\n        .toLowerCase();\n      return values.indexOf(filter.toLowerCase()) !== -1;\n    });\n    setUsers({ ...users, filteredUsers: filteredList });\n  }\n\n  function handleDOBSort(event) {\n    event.preventDefault();\n    const fromDate = new Date(document.getElementById(\"from-date\").value);\n    const toDate = new Date(document.getElementById(\"to-date\").value);\n\n    const filterDOB = users.users.filter(item => {\n      const newDate = new Date(item.dob.date)\n      return newDate > fromDate && newDate < toDate\n    });\n    setUsers({ ...users, filteredUsers: filterDOB });\n  }\n\nreturn (\n  <UserContext.Provider value = {{ headings, users, order, handleSort, handleSearchChange, handleDOBSort}}>\n    <Nav />\n    <div className=\"data-area\">\n      <DataTable />\n    </div>\n  </UserContext.Provider>\n);\n};\n\nexport default DataArea\n      \n      \n\n      \n\n"]},"metadata":{},"sourceType":"module"}